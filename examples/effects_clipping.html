<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <script src="../build/xeometry.js"></script>
    <script src="js/cameraControl.js"></script>
    <script src="js/pickQueryObject.js"></script>
    <link href="css/styles.css" rel="stylesheet"/>
<body>

<div id="info">
    <h1>custom clipping planes</h1>

    <h2>creating clip planes:</h2>

    <ul>
        <li><a href='javascript:viewer.createClip("clip1", { pos: [5,0,0], dir: [-1, 0, 0], active: true, shown: false })'><pre>viewer.createClip("clip1", { pos: [5,0,0], dir: [-1, 0, 0], active: true, shown: false })</pre></a></li>
        <li><a href='javascript:viewer.createClip("clip2", { pos: [7,5,4], dir: [-1, -.5, -.5], active: true, shown: false })'><pre>viewer.createClip("clip2", {pos: [7,5,4], dir: [-1, -.5, -.5], active: true, shown: false })</pre></a></li>
    </ul>

    <h2>destroying clip planes: <span class="broken">(TODO: breaks when all are destroyed)</span></h2>

    <ul>
        <li><a href='javascript:viewer.destroyClip("clip1")'><pre>javascript:viewer.destroyClip("clip1")</pre></a></li>
        <li><a href='javascript:viewer.destroyClip("clip2")'><pre>javascript:viewer.destroyClip("clip2")</pre></a></li>
    </ul>

    <h2>enabling clip planes:</h2>

    <ul>
        <li><a href='javascript:viewer.enableClip("clip1")'><pre>javascript:viewer.enableClip("clip1")</pre></a></li>
        <li><a href='javascript:viewer.enableClip("clip2")'><pre>javascript:viewer.enableClip("clip2")</pre></a></li>
    </ul>

    <h2>disabling clip planes:</h2>

    <ul>
        <li><a href='javascript:viewer.disableClip("clip1")'><pre>javascript:viewer.disableClip("clip1")</pre></a></li>
        <li><a href='javascript:viewer.disableClip("clip2")'><pre>javascript:viewer.disableClip("clip2")</pre></a></li>
    </ul>

    <h2>Controlling which objects are clipped</h2>

    <ul>
        <li><a href="javascript:viewer.setClippable()"><pre>viewer.setClippable()</pre></a></li>
        <li><a href="javascript:viewer.setUnclippable()"><pre>viewer.setUnclippable()</pre></a></li>
        <li><a href="javascript:viewer.setClippable('cassiopea')"><pre>viewer.setClippable("cassiopea")</pre></a></li>
        <li><a href="javascript:viewer.setClippable(['cassiopea', 'saintGratien'])"><pre>viewer.setClippable(["cassiopea", "saintGratien"])</pre></a></li>
        <li><a href="javascript:viewer.setUnclippable('cassiopea')"><pre>viewer.setUnclippable("cassiopea")</pre></a></li>
        <li><a href='javascript:viewer.setClippable(["cassiopea#21ldoMpbP4VfsJ0XGY_335", "cassiopea#0wkEuT1wr1kOyafLY4v_PL", "cassiopea#21ldoMpbP4VfsJ0XGY_34P", "cassiopea#0wkEuT1wr1kOyafLY4v_PH", "cassiopea#19hZbrGEj0G8UoLKCsrm4P", "cassiopea#1AKz6ThcD9RPdHegQwoWFh", "cassiopea#0n10yIAyjCOxVP38OwAbe4", "cassiopea#20s4Axcof3CRK5vWMvZ5Ke", "cassiopea#1kHrnJ8X9C0A30wVBdNGCJ", "cassiopea#11qjIxMfj1hAr1gt_WJL91"])'><pre>viewer.setClippable(["cassiopea#21ldoMpbP4VfsJ0XGY_335", "cassiopea#0wkEuT1wr1kOyafLY4v_PL", ...])</pre></a></li>
        <li><a href='javascript:viewer.setUnclippable(["cassiopea#21ldoMpbP4VfsJ0XGY_335", "cassiopea#0wkEuT1wr1kOyafLY4v_PL", "cassiopea#21ldoMpbP4VfsJ0XGY_34P", "cassiopea#0wkEuT1wr1kOyafLY4v_PH", "cassiopea#19hZbrGEj0G8UoLKCsrm4P", "cassiopea#1AKz6ThcD9RPdHegQwoWFh", "cassiopea#0n10yIAyjCOxVP38OwAbe4", "cassiopea#20s4Axcof3CRK5vWMvZ5Ke", "cassiopea#1kHrnJ8X9C0A30wVBdNGCJ", "cassiopea#11qjIxMfj1hAr1gt_WJL91"])'><pre>viewer.setUnclippable(["cassiopea#21ldoMpbP4VfsJ0XGY_335", "cassiopea#0wkEuT1wr1kOyafLY4v_PL", ...])</pre></a></li>
        <li><a href='javascript:viewer.setClippable(["stab","footing","stair"])'><pre>viewer.setClippable(["stab","footing","stair"])</pre></a></li>
        <li><a href='javascript:viewer.setUnclippable(["stab","footing","stair"])'><pre>view.setUnclippable(["stab","footing","stair"])</pre></a></li>
    </ul>

</div>

<script>

    // Load saw, reveal motor by hiding objects

    var viewer = new xeometry.Viewer();

    viewer.setEye([-130, 0, 350]);
    viewer.setLook([-130, 0, 0]);

    viewer.loadModel("saw", "models/gltf/ReciprocatingSaw/glTF/ReciprocatingSaw.gltf", function () {
        viewer.setRotate("saw", [90, 0, 0]);
    });

    new xeometry.CameraControl(viewer);
    
</script>
</body>
</html>