<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <script src="../build/xeometry.min.js"></script>
    <link href="css/styles.css" rel="stylesheet"/>
<body>

<div id="info">
    <h1>clipping</h1>

    <h2>creating clipping planes:</h2>

    <ul>
        <li><a href='javascript:viewer.createClip("clip1", { pos:[0,0,0], dir:[0,0,-1]})'>createClip("clip1", {pos:[0,0,0], dir:[0,0,-1]})</a></li>
        <li><a href='javascript:viewer.createClip("clip2", { pos:[0,10,0], dir:[0,-1,-1]})'>createClip("clip2", {pos:[0,10,0], dir:[0,-1,-1]})</a></li>
    </ul>

    <h2>destroying clipping planes: <span class="broken">(TODO: breaks when all are destroyed)</span></h2>

    <ul>
        <li><a href='javascript:viewer.destroyClip()'>destroyClip()</a></li>
        <li><a href='javascript:viewer.destroyClip("clip1")'>destroyClip("clip1")</a></li>
        <li><a href='javascript:viewer.destroyClip("clip2")'>destroyClip("clip2")</a></li>
    </ul>

    <h2>enabling clipping planes:</h2>

    <ul>
        <li><a href='javascript:viewer.enableClip()'>enableClip()</a></li>
        <li><a href='javascript:viewer.enableClip("clip1")'>enableClip("clip1")</a></li>
        <li><a href='javascript:viewer.enableClip("clip2")'>enableClip("clip2")</a></li>
    </ul>

    <h2>disabling clipping planes:</h2>

    <ul>
        <li><a href='javascript:viewer.disableClip()'>disableClip()</a></li>
        <li><a href='javascript:viewer.disableClip("clip1")'>disableClip("clip1")</a></li>
        <li><a href='javascript:viewer.disableClip("clip2")'>disableClip("clip2")</a></li>
    </ul>

    <h2>controlling which objects are clipped</h2>

    <ul>
        <li><a href="javascript:viewer.setClippable()">setClippable()</a></li>
        <li><a href="javascript:viewer.setUnclippable()">setUnclippable()</a></li>
        <li><a href="javascript:viewer.setClippable('saw')">setClippable("saw")</a></li>
        <li><a href="javascript:viewer.setUnclippable('saw')">setUnclippable("saw")</a></li>
        <li><a href='javascript:viewer.setClippable(["saw#1.1", "saw#1.2"])'>setClippable(["saw#1.1", "saw#1.2"])</a></li>
        <li><a href='javascript:viewer.setUnclippable(["saw#1.1", "saw#1.2"])'>setUnclippable(["saw#1.1", "saw#1.2"])</a></li>
    </ul>

</div>

<script>

    var viewer = new xeometry.Viewer();

    viewer.setEye([-130, 0, 350]);
    viewer.setLook([-130, 0, 0]);

    viewer.setViewFitDuration(1);

    viewer.loadModel("saw", "models/gltf/ReciprocatingSaw/glTF/ReciprocatingSaw.gltf", function () {
        viewer.setRotate("saw", [90, 0, 0]);
    });

    new xeometry.CameraControl(viewer);
    
</script>
</body>
</html>